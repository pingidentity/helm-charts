# Verify that multiple gateway hosts generate host-scoped HTTPRoutes.

### SECTION:PARAMETERS ###
releaseName: gatewayscope
skipTest: false
### SECTION:VALUES ###
global:
  gateway:
    enabled: true
    addReleaseNameToHost: prepend
    defaultDomain: pingdemo.example
    parentRefs:
    - name: ping-devops-gateway
      namespace: pinghelm
      sectionName: https
pingfederate-admin:
  enabled: true
  gateway:
    hosts:
    - host: pf-admin._defaultDomain_
      paths:
      - path: /admin
        pathType: PathPrefix
        backend:
          serviceName: https
    - host: pf-engine._defaultDomain_
      paths:
      - path: /engine
        pathType: PathPrefix
        backend:
          serviceName: https
### SECTION:EXPECTED ###
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: gatewayscope-pingfederate-admin-1
spec:
  hostnames:
  - gatewayscope-pf-admin.pingdemo.example
  rules:
  - matches:
    - path:
        type: PathPrefix
        value: "/admin"
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: gatewayscope-pingfederate-admin-2
spec:
  hostnames:
  - gatewayscope-pf-engine.pingdemo.example
  rules:
  - matches:
    - path:
        type: PathPrefix
        value: "/engine"

### SECTION:UNEXPECTED ###
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: gatewayscope-pingfederate-admin-1
spec:
  hostnames:
  - gatewayscope-pf-admin.pingdemo.example
  rules:
  - matches:
    - path:
        value: "/engine"
